<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Snarky_integer__Integer (snarky_integer.Snarky_integer__Integer)</title><link rel="stylesheet" href="../../../../snarky/css/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../snarky/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">snarky_integer</a> &#x00BB; Snarky_integer__Integer</nav><h1>Module <code>Snarky_integer__Integer</code></h1><p>Positive integers as field elements.</p><p>These operations assert that the value of the field element does not exceed the largest element in the field -- ie. that the operations do not overflow.</p><p>Whenever possible, the bit representation is cached to avoid recomputing it.</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> 'f t</code></dt></dl><dl><dt class="spec value" id="val-constant"><a href="#val-constant" class="anchor"></a><code><span class="keyword">val</span> constant : ?&#8288;length:int <span>&#45;&gt;</span> m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> Bigint.t <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Create an value representing the given constant value.</p><p>The bit representation of the constant is cached, and is padded to <code>length</code> when given.</p></dd></dl><dl><dt class="spec value" id="val-shift_left"><a href="#val-shift_left" class="anchor"></a><code><span class="keyword">val</span> shift_left : m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>shift_left ~m x k</code> is equivalent to multiplying <code>x</code> by <code>2^k</code>.</p><p>The result has a cached bit representation whenever the given <code>x</code> had a cached bit representation.</p></dd></dl><dl><dt class="spec value" id="val-of_bits"><a href="#val-of_bits" class="anchor"></a><code><span class="keyword">val</span> of_bits : m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="../../snarky/Snarky/Cvar/index.html#type-t">Snarky.Cvar.t</a> <a href="../../snarky/Snarky/Boolean/index.html#type-t">Snarky.Boolean.t</a> <a href="../../bitstring_lib/Bitstring_lib/Bitstring/Lsb_first/index.html#type-t">Bitstring_lib.Bitstring.Lsb_first.t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Create a value from the given bit string.</p><p>The given bit representation is cached.</p></dd></dl><dl><dt class="spec value" id="val-to_bits"><a href="#val-to_bits" class="anchor"></a><code><span class="keyword">val</span> to_bits : ?&#8288;length:int <span>&#45;&gt;</span> m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="../../snarky/Snarky/Cvar/index.html#type-t">Snarky.Cvar.t</a> <a href="../../snarky/Snarky/Boolean/index.html#type-t">Snarky.Boolean.t</a> <a href="../../bitstring_lib/Bitstring_lib/Bitstring/Lsb_first/index.html#type-t">Bitstring_lib.Bitstring.Lsb_first.t</a></code></dt><dd><p>Compute the bit representation of the given integer.</p><p>If the bit representation has already been cached, it is returned and no additional constraints are added. If the representation is computed, the value is updated to include the cache.</p></dd></dl><dl><dt class="spec value" id="val-to_bits_exn"><a href="#val-to_bits_exn" class="anchor"></a><code><span class="keyword">val</span> to_bits_exn : <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="../../snarky/Snarky/Cvar/index.html#type-t">Snarky.Cvar.t</a> <a href="../../snarky/Snarky/Boolean/index.html#type-t">Snarky.Boolean.t</a> <a href="../../bitstring_lib/Bitstring_lib/Bitstring/Lsb_first/index.html#type-t">Bitstring_lib.Bitstring.Lsb_first.t</a></code></dt><dd><p>Return the cached bit representation, or raise an exception if the bit representation has not been cached.</p></dd></dl><dl><dt class="spec value" id="val-to_bits_opt"><a href="#val-to_bits_opt" class="anchor"></a><code><span class="keyword">val</span> to_bits_opt : <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="../../snarky/Snarky/Cvar/index.html#type-t">Snarky.Cvar.t</a> <a href="../../snarky/Snarky/Boolean/index.html#type-t">Snarky.Boolean.t</a> <a href="../../bitstring_lib/Bitstring_lib/Bitstring/Lsb_first/index.html#type-t">Bitstring_lib.Bitstring.Lsb_first.t</a> option</code></dt><dd><p>Returns <code>Some bs</code> for <code>bs</code> the cached bit representation, or <code>None</code> if the bit representation has not been cached.</p></dd></dl><dl><dt class="spec value" id="val-div_mod"><a href="#val-div_mod" class="anchor"></a><code><span class="keyword">val</span> div_mod : m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> * <span class="type-var">'f</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>div_mod ~m a b = (q, r)</code> such that <code>a = q * b + r</code> and <code>r &lt; b</code>.</p><p>The bit representations of <code>q</code> and <code>r</code> are calculated and cached.</p><p>NOTE: This uses approximately <code>log2(a) + 2 * log2(b)</code> constraints.</p></dd></dl><dl><dt class="spec value" id="val-to_field"><a href="#val-to_field" class="anchor"></a><code><span class="keyword">val</span> to_field : <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="../../snarky/Snarky/Cvar/index.html#type-t">Snarky.Cvar.t</a></code></dt><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : value:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Cvar/index.html#type-t">Snarky.Cvar.t</a> <span>&#45;&gt;</span> upper_bound:Bigint.t <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-min"><a href="#val-min" class="anchor"></a><code><span class="keyword">val</span> min : m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>min ~m x y</code> returns a value equal the lesser of <code>x</code> and <code>y</code>.</p><p>The result does not carry a cached bit representation.</p></dd></dl><dl><dt class="spec value" id="val-if_"><a href="#val-if_" class="anchor"></a><code><span class="keyword">val</span> if_ : m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="../../snarky/Snarky/Cvar/index.html#type-t">Snarky.Cvar.t</a> <a href="../../snarky/Snarky/Boolean/index.html#type-t">Snarky.Boolean.t</a> <span>&#45;&gt;</span> then_:<span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> else_:<span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-succ"><a href="#val-succ" class="anchor"></a><code><span class="keyword">val</span> succ : m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>succ ~m x</code> computes the successor <code>x+1</code> of <code>x</code>.</p><p>The result does not carry a cached bit representation.</p></dd></dl><dl><dt class="spec value" id="val-succ_if"><a href="#val-succ_if" class="anchor"></a><code><span class="keyword">val</span> succ_if : m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="../../snarky/Snarky/Cvar/index.html#type-t">Snarky.Cvar.t</a> <a href="../../snarky/Snarky/Boolean/index.html#type-t">Snarky.Boolean.t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>succ_if ~m x b</code> computes the integer <code>x+1</code> if <code>b</code> is <code>true</code>, or <code>x</code> otherwise.</p><p>The result does not carry a cached bit representation.</p></dd></dl><dl><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="../../snarky/Snarky/Cvar/index.html#type-t">Snarky.Cvar.t</a> <a href="../../snarky/Snarky/Boolean/index.html#type-t">Snarky.Boolean.t</a></code></dt><dt class="spec value" id="val-lt"><a href="#val-lt" class="anchor"></a><code><span class="keyword">val</span> lt : m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="../../snarky/Snarky/Cvar/index.html#type-t">Snarky.Cvar.t</a> <a href="../../snarky/Snarky/Boolean/index.html#type-t">Snarky.Boolean.t</a></code></dt><dt class="spec value" id="val-lte"><a href="#val-lte" class="anchor"></a><code><span class="keyword">val</span> lte : m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="../../snarky/Snarky/Cvar/index.html#type-t">Snarky.Cvar.t</a> <a href="../../snarky/Snarky/Boolean/index.html#type-t">Snarky.Boolean.t</a></code></dt><dt class="spec value" id="val-gt"><a href="#val-gt" class="anchor"></a><code><span class="keyword">val</span> gt : m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="../../snarky/Snarky/Cvar/index.html#type-t">Snarky.Cvar.t</a> <a href="../../snarky/Snarky/Boolean/index.html#type-t">Snarky.Boolean.t</a></code></dt><dt class="spec value" id="val-gte"><a href="#val-gte" class="anchor"></a><code><span class="keyword">val</span> gte : m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="../../snarky/Snarky/Cvar/index.html#type-t">Snarky.Cvar.t</a> <a href="../../snarky/Snarky/Boolean/index.html#type-t">Snarky.Boolean.t</a></code></dt><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val</span> add : m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>add ~m x y</code> computes <code>x + y</code>.</p><p>The result does not carry a cached bit representation.</p></dd></dl><dl><dt class="spec value" id="val-mul"><a href="#val-mul" class="anchor"></a><code><span class="keyword">val</span> mul : m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>mul ~m x y</code> computes <code>x * y</code>.</p><p>The result does not carry a cached bit representation.</p></dd></dl><dl><dt class="spec value" id="val-subtract_unpacking"><a href="#val-subtract_unpacking" class="anchor"></a><code><span class="keyword">val</span> subtract_unpacking : m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>subtract_unpacking ~m x y</code> computes <code>x - y</code>.</p><p>The bit representation is calculated to ensure that <code>0 &lt;= x - y</code>, and is cached in the result.</p><p>NOTE: This uses approximately <code>log2(x)</code> constraints.</p></dd></dl><dl><dt class="spec value" id="val-subtract_unpacking_or_zero"><a href="#val-subtract_unpacking_or_zero" class="anchor"></a><code><span class="keyword">val</span> subtract_unpacking_or_zero : m:<span class="type-var">'f</span> <a href="../../snarky/Snarky/Snark/index.html#type-m">Snarky.Snark.m</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> [ `Underflow of <span class="type-var">'f</span> <a href="../../snarky/Snarky/Cvar/index.html#type-t">Snarky.Cvar.t</a> <a href="../../snarky/Snarky/Boolean/index.html#type-t">Snarky.Boolean.t</a> ] * <span class="type-var">'f</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>subtract_unpacking_or_zero ~m x y</code> computes <code>x - y</code>.</p><ul><li>If the argument to <code>`Underflow</code> is true, <code>x &lt; y</code> and the returned integer value is pinned to <code>zero</code>.</li><li>If the argument to <code>`Underflow</code> is false, <code>x &gt;= y</code> and the returned integer value is equal to <code>x - y</code>.</li></ul><p>The bit representation is calculated to check for underflow.</p><p>NOTE: This uses approximately <code>log2(x)</code> constraints.</p></dd></dl></div></body></html>