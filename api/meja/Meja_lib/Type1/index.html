<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Type1 (meja.Meja_lib.Type1)</title><link rel="stylesheet" href="../../../../../snarky/css/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../snarky/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">meja</a> &#x00BB; <a href="../index.html">Meja_lib</a> &#x00BB; Type1</nav><h1>Module <code>Meja_lib.Type1</code></h1></header><dl><dt class="spec type" id="type-error"><a href="#type-error" class="anchor"></a><code><span class="keyword">type</span> error</code><code> = </code><table class="variant"><tr id="type-error.Mk_wrong_mode" class="anchored"><td class="def constructor"><a href="#type-error.Mk_wrong_mode" class="anchor"></a><code>| </code><code><span class="constructor">Mk_wrong_mode</span> <span class="keyword">of</span> string * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list * <a href="../Ast_types/index.html#type-mode">Ast_types.mode</a> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></td></tr><tr id="type-error.Mk_invalid" class="anchored"><td class="def constructor"><a href="#type-error.Mk_invalid" class="anchor"></a><code>| </code><code><span class="constructor">Mk_invalid</span> <span class="keyword">of</span> string * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></td></tr></table></dt></dl><dl><dt class="spec exception" id="exception-Error"><a href="#exception-Error" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Error</span> <span class="keyword">of</span> Location.t * <a href="index.html#type-error">error</a></code></dt></dl><dl><dt class="spec value" id="val-check_mode"><a href="#val-check_mode" class="anchor"></a><code><span class="keyword">val</span> check_mode : pos:(string * int * int * int) <span>&#45;&gt;</span> error_info:(unit <span>&#45;&gt;</span> string * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list) <span>&#45;&gt;</span> <a href="../Ast_types/index.html#type-mode">Ast_types.mode</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-get_mode"><a href="#val-get_mode" class="anchor"></a><code><span class="keyword">val</span> get_mode : <a href="../Ast_types/index.html#type-mode">Ast_types.mode</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dd><p>Get the stitched <code>type_expr</code> in the given mode.</p></dd></dl><dl><dt class="spec value" id="val-type_id"><a href="#val-type_id" class="anchor"></a><code><span class="keyword">val</span> type_id : int Core_kernel.ref</code></dt><dt class="spec value" id="val-row_id"><a href="#val-row_id" class="anchor"></a><code><span class="keyword">val</span> row_id : int Core_kernel.ref</code></dt><dt class="spec value" id="val-mk_rp"><a href="#val-mk_rp" class="anchor"></a><code><span class="keyword">val</span> mk_rp : <a href="../Type0/index.html#type-row_presence_desc">Type0.row_presence_desc</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a></code></dt><dt class="spec value" id="val-repr"><a href="#val-repr" class="anchor"></a><code><span class="keyword">val</span> repr : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dd><p>The representative of a type. This unfolds any <code>Tref</code> values that are present to get to the true underlying type.</p></dd></dl><dl><dt class="spec value" id="val-rp_repr"><a href="#val-rp_repr" class="anchor"></a><code><span class="keyword">val</span> rp_repr : <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a></code></dt><dt class="spec value" id="val-rp_strip_subtract"><a href="#val-rp_strip_subtract" class="anchor"></a><code><span class="keyword">val</span> rp_strip_subtract : <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a></code></dt><dt class="spec value" id="val-set_rp_desc_fwd"><a href="#val-set_rp_desc_fwd" class="anchor"></a><code><span class="keyword">val</span> set_rp_desc_fwd : (<a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-row_presence_desc">Type0.row_presence_desc</a> <span>&#45;&gt;</span> unit) Core_kernel.ref</code></dt><dt class="spec value" id="val-row_repr_aux"><a href="#val-row_repr_aux" class="anchor"></a><code><span class="keyword">val</span> row_repr_aux : (<a href="../../Meja_lib__Ident/index.html#module-Map">Meja_lib.Ident.Map</a>.Key.t, <a href="../Path/index.html#type-t">Path.t</a> * <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list, <a href="../../Meja_lib__Ident/index.html#module-Map">Meja_lib.Ident.Map</a>.Key.comparator_witness) Core_kernel.Map.t <span>&#45;&gt;</span> <a href="../Type0/index.html#type-row">Type0.row</a> <span>&#45;&gt;</span> (<a href="../../Meja_lib__Ident/index.html#module-Map">Meja_lib.Ident.Map</a>.Key.t, <a href="../Path/index.html#type-t">Path.t</a> * <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list, <a href="../../Meja_lib__Ident/index.html#module-Map">Meja_lib.Ident.Map</a>.Key.comparator_witness) Core_kernel.Map.t * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Ast_types/index.html#type-closed_flag">Ast_types.closed_flag</a></code></dt><dt class="spec value" id="val-row_repr_typ_aux"><a href="#val-row_repr_typ_aux" class="anchor"></a><code><span class="keyword">val</span> row_repr_typ_aux : ((<a href="../../Meja_lib__Ident/index.html#module-Map">Meja_lib.Ident.Map</a>.Key.t, <a href="../Path/index.html#type-t">Path.t</a> * <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list, <a href="../../Meja_lib__Ident/index.html#module-Map">Meja_lib.Ident.Map</a>.Key.comparator_witness) Core_kernel.Map.t * <a href="../Ast_types/index.html#type-closed_flag">Ast_types.closed_flag</a>) <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> (<a href="../../Meja_lib__Ident/index.html#module-Map">Meja_lib.Ident.Map</a>.Key.t, <a href="../Path/index.html#type-t">Path.t</a> * <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list, <a href="../../Meja_lib__Ident/index.html#module-Map">Meja_lib.Ident.Map</a>.Key.comparator_witness) Core_kernel.Map.t * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Ast_types/index.html#type-closed_flag">Ast_types.closed_flag</a></code></dt><dt class="spec value" id="val-row_repr"><a href="#val-row_repr" class="anchor"></a><code><span class="keyword">val</span> row_repr : <a href="../Type0/index.html#type-row">Type0.row</a> <span>&#45;&gt;</span> (<a href="../../Meja_lib__Ident/index.html#module-Map">Meja_lib.Ident.Map</a>.Key.t, <a href="../Path/index.html#type-t">Path.t</a> * <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list, <a href="../../Meja_lib__Ident/index.html#module-Map">Meja_lib.Ident.Map</a>.Key.comparator_witness) Core_kernel.Map.t * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Ast_types/index.html#type-closed_flag">Ast_types.closed_flag</a></code></dt><dt class="spec value" id="val-row_repr_typ"><a href="#val-row_repr_typ" class="anchor"></a><code><span class="keyword">val</span> row_repr_typ : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> (<a href="../../Meja_lib__Ident/index.html#module-Map">Meja_lib.Ident.Map</a>.Key.t, <a href="../Path/index.html#type-t">Path.t</a> * <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list, <a href="../../Meja_lib__Ident/index.html#module-Map">Meja_lib.Ident.Map</a>.Key.comparator_witness) Core_kernel.Map.t * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Ast_types/index.html#type-closed_flag">Ast_types.closed_flag</a></code></dt><dt class="spec value" id="val-checked_none"><a href="#val-checked_none" class="anchor"></a><code><span class="keyword">val</span> checked_none : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dd><p>An invalid <code>type_expr</code> in checked mode.</p></dd></dl><dl><dt class="spec value" id="val-prover_none"><a href="#val-prover_none" class="anchor"></a><code><span class="keyword">val</span> prover_none : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dd><p>An invalid <code>type_expr</code> in prover mode.</p></dd></dl><dl><dt class="spec value" id="val-none"><a href="#val-none" class="anchor"></a><code><span class="keyword">val</span> none : <a href="../Ast_types/index.html#type-mode">Ast_types.mode</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dd><p>Chose an invalid <code>type_expr</code> based on the given mode.</p></dd></dl><dl><dt class="spec value" id="val-other_none"><a href="#val-other_none" class="anchor"></a><code><span class="keyword">val</span> other_none : <a href="../Ast_types/index.html#type-mode">Ast_types.mode</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dd><p>Chose an invalid <code>type_expr</code> for the other mode to the one given.</p><p><code>other_none mode = none (other_mode mode)</code></p></dd></dl><dl><dt class="spec value" id="val-type_alternate"><a href="#val-type_alternate" class="anchor"></a><code><span class="keyword">val</span> type_alternate : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dt class="spec value" id="val-row_alternate"><a href="#val-row_alternate" class="anchor"></a><code><span class="keyword">val</span> row_alternate : <a href="../Type0/index.html#type-row">Type0.row</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-row">Type0.row</a></code></dt><dt class="spec value" id="val-is_poly"><a href="#val-is_poly" class="anchor"></a><code><span class="keyword">val</span> is_poly : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_valid"><a href="#val-is_valid" class="anchor"></a><code><span class="keyword">val</span> is_valid : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Returns <code>true</code> if the <code>type_expr</code> argument is valid, false otherwise. Can be used to check that a type-stitching has been created or modified correctly.</p></dd></dl><dl><dt class="spec value" id="val-is_invalid"><a href="#val-is_invalid" class="anchor"></a><code><span class="keyword">val</span> is_invalid : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Equivalent to <code>not (is_valid typ)</code>.</p></dd></dl><dl><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Judge equality based on type id.</p></dd></dl><dl><dt class="spec value" id="val-check_valid"><a href="#val-check_valid" class="anchor"></a><code><span class="keyword">val</span> check_valid : pos:(string * int * int * int) <span>&#45;&gt;</span> error_info:(unit <span>&#45;&gt;</span> string * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list) <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-failure_type_id"><a href="#val-failure_type_id" class="anchor"></a><code><span class="keyword">val</span> failure_type_id : Core_kernel.Int.t option</code></dt><dt class="spec value" id="val-mk'"><a href="#val-mk'" class="anchor"></a><code><span class="keyword">val</span> mk' : mode:<a href="../Ast_types/index.html#type-mode">Ast_types.mode</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_desc">Type0.type_desc</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dd><p>Make a new type at the given mode and depth.</p><p>The <code>type_alternate</code> field is set to the invalid value <code>none (other_mode mode)</code>.</p></dd></dl><dl><dt class="spec value" id="val-stitch"><a href="#val-stitch" class="anchor"></a><code><span class="keyword">val</span> stitch : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dd><p><code>stitch typ typ'</code> sets <code>typ</code> and <code>typ'</code> as eachothers <code>type_alternate</code>s. Returns the first argument <code>typ</code>.</p><p>Raises <code>AssertionError</code> if the types have the same modes, or if either type has an already-initialised <code>type_alternate</code>.</p></dd></dl><dl><dt class="spec value" id="val-tri_stitch"><a href="#val-tri_stitch" class="anchor"></a><code><span class="keyword">val</span> tri_stitch : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dd><p><code>tri_stitch in_typ ptyp ctyp</code> stitches the prover-mode type <code>ptyp</code> to the checked-mode <code>ctyp</code>, and sets the <code>type_alternate</code> of the checked-mode type <code>in_typ</code> to <code>ptyp</code>.</p><p>This allows <code>in_typ</code> to be the <code>tdec_ret</code> for a type defined in checked mode, so that a round-trip <code>Checked -&gt; Prover -&gt; Checked</code> conversion chain may start and end with different types.</p><p>The canonical example of this is <code>bool -&gt; bool -&gt; boolean</code>.</p></dd></dl><dl><dt class="spec value" id="val-are_stitched"><a href="#val-are_stitched" class="anchor"></a><code><span class="keyword">val</span> are_stitched : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Returns <code>true</code> if the types are stitched together, <code>false</code> otherwise.</p></dd></dl><dl><dt class="spec value" id="val-typ_debug_print_hash_tbl"><a href="#val-typ_debug_print_hash_tbl" class="anchor"></a><code><span class="keyword">val</span> typ_debug_print_hash_tbl : Core_kernel.Int.t Core_kernel.Hash_set.t</code></dt><dd><p>Hash set to track types printed in <code>typ_debug_print</code>, to ensure that we don't get stuck in a recursion loop.</p></dd></dl><dl><dt class="spec value" id="val-typ_debug_print"><a href="#val-typ_debug_print" class="anchor"></a><code><span class="keyword">val</span> typ_debug_print : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-row_debug_print"><a href="#val-row_debug_print" class="anchor"></a><code><span class="keyword">val</span> row_debug_print : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="../Type0/index.html#type-row">Type0.row</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-row_presence_debug_print"><a href="#val-row_presence_debug_print" class="anchor"></a><code><span class="keyword">val</span> row_presence_debug_print : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> <span>&#45;&gt;</span> Core_kernel__.Import.unit</code></dt><dt class="spec value" id="val-field_decl_debug_print"><a href="#val-field_decl_debug_print" class="anchor"></a><code><span class="keyword">val</span> field_decl_debug_print : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="../Type0/index.html#type-field_decl">Type0.field_decl</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-ctor_args_debug_print"><a href="#val-ctor_args_debug_print" class="anchor"></a><code><span class="keyword">val</span> ctor_args_debug_print : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="../Type0/index.html#type-ctor_args">Type0.ctor_args</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-ctor_decl_debug_print"><a href="#val-ctor_decl_debug_print" class="anchor"></a><code><span class="keyword">val</span> ctor_decl_debug_print : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="../Type0/index.html#type-ctor_decl">Type0.ctor_decl</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-type_decl_desc_debug_print"><a href="#val-type_decl_desc_debug_print" class="anchor"></a><code><span class="keyword">val</span> type_decl_desc_debug_print : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_decl_desc">Type0.type_decl_desc</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-typ_debug_print_alts"><a href="#val-typ_debug_print_alts" class="anchor"></a><code><span class="keyword">val</span> typ_debug_print_alts : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-mkvar"><a href="#val-mkvar" class="anchor"></a><code><span class="keyword">val</span> mkvar : mode:<a href="../Ast_types/index.html#type-mode">Ast_types.mode</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> string option <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dd><p>Create a new type variable with the given name.</p><p>The returned type is properly stitched to an equivalent type in the other mode.</p></dd></dl><dl><dt class="spec module" id="module-Mk"><a href="#module-Mk" class="anchor"></a><code><span class="keyword">module</span> <a href="Mk/index.html">Mk</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Constructors for stitched types.</p></dd></dl><dl><dt class="spec type" id="type-change"><a href="#type-change" class="anchor"></a><code><span class="keyword">type</span> change</code><code> = </code><table class="variant"><tr id="type-change.Depth" class="anchored"><td class="def constructor"><a href="#type-change.Depth" class="anchor"></a><code>| </code><code><span class="constructor">Depth</span> <span class="keyword">of</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * int</code></td></tr><tr id="type-change.Desc" class="anchored"><td class="def constructor"><a href="#type-change.Desc" class="anchor"></a><code>| </code><code><span class="constructor">Desc</span> <span class="keyword">of</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Type0/index.html#type-type_desc">Type0.type_desc</a></code></td></tr><tr id="type-change.Replace" class="anchored"><td class="def constructor"><a href="#type-change.Replace" class="anchor"></a><code>| </code><code><span class="constructor">Replace</span> <span class="keyword">of</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Type0/index.html#type-type_desc">Type0.type_desc</a></code></td></tr><tr id="type-change.Row_presence" class="anchored"><td class="def constructor"><a href="#type-change.Row_presence" class="anchor"></a><code>| </code><code><span class="constructor">Row_presence</span> <span class="keyword">of</span> <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> * <a href="../Type0/index.html#type-row_presence_desc">Type0.row_presence_desc</a></code></td></tr><tr id="type-change.Row_replace" class="anchored"><td class="def constructor"><a href="#type-change.Row_replace" class="anchor"></a><code>| </code><code><span class="constructor">Row_replace</span> <span class="keyword">of</span> <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> * <a href="../Type0/index.html#type-row_presence_desc">Type0.row_presence_desc</a></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-debug_print_change"><a href="#val-debug_print_change" class="anchor"></a><code><span class="keyword">val</span> debug_print_change : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-change">change</a> <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec module" id="module-Snapshot"><a href="#module-Snapshot" class="anchor"></a><code><span class="keyword">module</span> <a href="Snapshot/index.html">Snapshot</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Implements a weak, mutable linked-list containing the history of changes.</p></dd></dl><dl><dt class="spec value" id="val-revert"><a href="#val-revert" class="anchor"></a><code><span class="keyword">val</span> revert : <a href="index.html#type-change">change</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-backtrack"><a href="#val-backtrack" class="anchor"></a><code><span class="keyword">val</span> backtrack : <a href="Snapshot/index.html#type-t">Snapshot.t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-filtered_backtrack"><a href="#val-filtered_backtrack" class="anchor"></a><code><span class="keyword">val</span> filtered_backtrack : f:(<a href="index.html#type-change">change</a> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <a href="Snapshot/index.html#type-t">Snapshot.t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span class="keyword">val</span> fold : init:<span class="type-var">'a</span> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val</span> iter : f:(<a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-copy_desc"><a href="#val-copy_desc" class="anchor"></a><code><span class="keyword">val</span> copy_desc : f:(<a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a>) <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_desc">Type0.type_desc</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_desc">Type0.type_desc</a></code></dt><dd><p>Make a copy of the <code>type_desc</code>, using <code>f</code> as a recursor. Unfolds any references to make a copy of the representative's description.</p></dd></dl><dl><dt class="spec value" id="val-equal_at_depth"><a href="#val-equal_at_depth" class="anchor"></a><code><span class="keyword">val</span> equal_at_depth : get_decl:(<a href="../Path/index.html#type-t">Path.t</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_decl">Type0.type_decl</a>) <span>&#45;&gt;</span> depth:int <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-set_depth"><a href="#val-set_depth" class="anchor"></a><code><span class="keyword">val</span> set_depth : int <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-update_depth"><a href="#val-update_depth" class="anchor"></a><code><span class="keyword">val</span> update_depth : int <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-unify_depths"><a href="#val-unify_depths" class="anchor"></a><code><span class="keyword">val</span> unify_depths : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_rp_desc"><a href="#val-set_rp_desc" class="anchor"></a><code><span class="keyword">val</span> set_rp_desc : <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-row_presence_desc">Type0.row_presence_desc</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_desc"><a href="#val-set_desc" class="anchor"></a><code><span class="keyword">val</span> set_desc : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_desc">Type0.type_desc</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-unsafe_set_single_replacement"><a href="#val-unsafe_set_single_replacement" class="anchor"></a><code><span class="keyword">val</span> unsafe_set_single_replacement : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_replacement"><a href="#val-set_replacement" class="anchor"></a><code><span class="keyword">val</span> set_replacement : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-backtrack_replace"><a href="#val-backtrack_replace" class="anchor"></a><code><span class="keyword">val</span> backtrack_replace : <a href="Snapshot/index.html#type-t">Snapshot.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Backtrack only undoing the <code>Replace</code> operations since the last snapshot.</p></dd></dl><dl><dt class="spec value" id="val-set_repr"><a href="#val-set_repr" class="anchor"></a><code><span class="keyword">val</span> set_repr : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set_repr typ typ'</code> sets the representative of <code>typ</code> to be <code>typ'</code>.</p></dd></dl><dl><dt class="spec value" id="val-choose_variable_name"><a href="#val-choose_variable_name" class="anchor"></a><code><span class="keyword">val</span> choose_variable_name : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>choose_variable_name var typ</code> lifts the type variable name for <code>var</code> into the <code>type_desc</code> for <code>typ</code> when it is also a variable.</p><p>Raises <code>AssertionError</code> if <code>var</code> is not a type variable.</p></dd></dl><dl><dt class="spec value" id="val-add_instance"><a href="#val-add_instance" class="anchor"></a><code><span class="keyword">val</span> add_instance : unify:(<a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>add_instance var typ'</code> changes the representative of the type variable <code>var</code> to <code>typ'</code>. If <code>typ'</code> is also a type variable, then the user-provided of <code>var</code> is added to <code>typ'</code>, unless <code>typ'</code> already has a user-provided name of its own.</p><p>Raises <code>AssertionError</code> if <code>var</code> is not a type variable.</p></dd></dl><dl><dt class="spec value" id="val-flatten"><a href="#val-flatten" class="anchor"></a><code><span class="keyword">val</span> flatten : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dd><p>Create an equivalent type by unfolding all of the type representatives.</p></dd></dl><dl><dt class="spec value" id="val-type_vars"><a href="#val-type_vars" class="anchor"></a><code><span class="keyword">val</span> type_vars : ?&#8288;depth:int <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> (<a href="../Type0/index.html#type-type_expr">Type0.type_expr</a>, <a href="../Typeset/Elt/index.html#type-comparator_witness">Typeset.Elt.comparator_witness</a>) Core_kernel.Set.t</code></dt><dt class="spec value" id="val-mk_option"><a href="#val-mk_option" class="anchor"></a><code><span class="keyword">val</span> mk_option : (<a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a>) Core_kernel.ref</code></dt><dt class="spec value" id="val-bubble_label_aux"><a href="#val-bubble_label_aux" class="anchor"></a><code><span class="keyword">val</span> bubble_label_aux : <a href="../Ast_types/index.html#type-arg_label">Ast_types.arg_label</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> (<a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Ast_types/index.html#type-explicitness">Ast_types.explicitness</a> * <a href="../Ast_types/index.html#type-arg_label">Ast_types.arg_label</a>) option * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dt class="spec value" id="val-bubble_label"><a href="#val-bubble_label" class="anchor"></a><code><span class="keyword">val</span> bubble_label : <a href="../Ast_types/index.html#type-arg_label">Ast_types.arg_label</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dt class="spec value" id="val-discard_optional_labels"><a href="#val-discard_optional_labels" class="anchor"></a><code><span class="keyword">val</span> discard_optional_labels : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dt class="spec value" id="val-is_arrow"><a href="#val-is_arrow" class="anchor"></a><code><span class="keyword">val</span> is_arrow : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_var"><a href="#val-is_var" class="anchor"></a><code><span class="keyword">val</span> is_var : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_replace"><a href="#val-is_replace" class="anchor"></a><code><span class="keyword">val</span> is_replace : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-get_replace"><a href="#val-get_replace" class="anchor"></a><code><span class="keyword">val</span> get_replace : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> option</code></dt><dt class="spec value" id="val-get_rev_arrow_args"><a href="#val-get_rev_arrow_args" class="anchor"></a><code><span class="keyword">val</span> get_rev_arrow_args : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> (<a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Ast_types/index.html#type-explicitness">Ast_types.explicitness</a> * <a href="../Ast_types/index.html#type-arg_label">Ast_types.arg_label</a>) list * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dt class="spec value" id="val-get_rev_implicits"><a href="#val-get_rev_implicits" class="anchor"></a><code><span class="keyword">val</span> get_rev_implicits : (<a href="../Ast_types/index.html#type-arg_label">Ast_types.arg_label</a> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a>) list <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> (<a href="../Ast_types/index.html#type-arg_label">Ast_types.arg_label</a> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a>) list * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dt class="spec value" id="val-get_implicits"><a href="#val-get_implicits" class="anchor"></a><code><span class="keyword">val</span> get_implicits : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> (<a href="../Ast_types/index.html#type-arg_label">Ast_types.arg_label</a> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a>) Core_kernel.List.t * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dt class="spec value" id="val-get_rev_implicits"><a href="#val-get_rev_implicits" class="anchor"></a><code><span class="keyword">val</span> get_rev_implicits : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> (<a href="../Ast_types/index.html#type-arg_label">Ast_types.arg_label</a> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a>) list * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dt class="spec value" id="val-contains"><a href="#val-contains" class="anchor"></a><code><span class="keyword">val</span> contains : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> in_:<a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Returns <code>true</code> if <code>typ</code> is a strict subtype of <code>in_</code> (i.e. excluding <code>typ == in_</code>), or <code>false</code> otherwise.</p></dd></dl><dl><dt class="spec value" id="val-get_same_mode"><a href="#val-get_same_mode" class="anchor"></a><code><span class="keyword">val</span> get_same_mode : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dd><p>Collapse any <code>Tother_mode</code> types until the modes are the same, if possible.</p><p>Checked mode is always preferred over prover mode, so that tri-stitching is retained whenever possible.</p></dd></dl><dl><dt class="spec value" id="val-remove_opaques"><a href="#val-remove_opaques" class="anchor"></a><code><span class="keyword">val</span> remove_opaques : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dd><p>Remove any <code>Topaque</code> wrappers, returning the outermost non-opaque type.</p></dd></dl><dl><dt class="spec value" id="val-remove_mode_changes"><a href="#val-remove_mode_changes" class="anchor"></a><code><span class="keyword">val</span> remove_mode_changes : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span>&#45;&gt;</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></code></dt><dd><p>Remove any <code>Tother_mode</code> wrappers.</p></dd></dl><div class="spec module" id="module-Decl"><a href="#module-Decl" class="anchor"></a><code><span class="keyword">module</span> <a href="Decl/index.html">Decl</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-report_error"><a href="#val-report_error" class="anchor"></a><code><span class="keyword">val</span> report_error : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-error">error</a> <span>&#45;&gt;</span> unit</code></dt></dl></div></body></html>